<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mystery Market - Product Detail</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f8f9fa;
    }

    .navbar {
      background-color: #212529;
    }

    .footer {
      background-color: #212529;
      color: #ccc;
      padding: 30px 0;
      font-size: 0.9rem;
      border-top: 3px solid #0d6efd;
    }

    .footer p {
      margin-bottom: 0;
    }

    .section-title {
      font-size: 2.5rem;
      font-weight: 600;
      color: #343a40;
      margin-bottom: 40px;
      position: relative;
    }

    .section-title::after {
      content: '';
      position: absolute;
      left: 50%;
      bottom: -10px;
      transform: translateX(-50%);
      width: 80px;
      height: 4px;
      background-color: #0d6efd;
      border-radius: 2px;
    }

    .page-content {
        padding-top: 80px;
        min-height: calc(100vh - 180px);
    }

    .product-image {
        max-width: 100%;
        height: auto;
        border-radius: 8px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        background-color: #ccc; /* Ensures a gray background even if image fails */
    }

    .product-price {
        font-size: 2.2rem;
        font-weight: 700;
        color: #0d6efd;
        margin-bottom: 20px;
    }

    .product-description {
        font-size: 1.1rem;
        line-height: 1.8;
        color: #555;
    }

    .btn-add-to-cart-detail {
        background-color: #28a745;
        color: white;
        border: none;
        border-radius: 50px;
        padding: 15px 30px;
        font-size: 1.2rem;
        transition: background-color 0.3s ease, transform 0.3s ease;
        box-shadow: 0 4px 10px rgba(40, 167, 69, 0.3);
    }

    .btn-add-to-cart-detail:hover {
        background-color: #218838;
        transform: translateY(-2px);
    }

    .btn-back-to-shop {
        background-color: #6c757d;
        color: white;
        border: none;
        border-radius: 50px;
        padding: 15px 30px;
        font-size: 1.2rem;
        transition: background-color 0.3s ease;
    }

    .btn-back-to-shop:hover {
        background-color: #5a6268;
    }
  </style>
</head>
<body>

  <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm sticky-top">
    <div class="container">
      <a class="navbar-brand fw-bold" href="index.html">Mystery Market</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="index.html">Shop All</a></li>
          <li class="nav-item"><a class="nav-link" href="cart.html">Cart <span class="badge bg-primary rounded-pill" id="cart-count">0</span></a></li>
          <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <section class="container py-5 page-content">
    <div class="row">
      <div class="col-md-6 text-center">
        <img id="product-detail-image" src="" class="img-fluid product-image" alt="Product Image">
      </div>
      <div class="col-md-6 mt-4 mt-md-0">
        <h1 id="product-detail-name" class="display-4 fw-bold mb-3">Product Name</h1>
        <p id="product-detail-price" class="product-price"></p>
        <p id="product-detail-description" class="product-description"></p>
        <div class="d-grid gap-2 d-md-block mt-4">
          <button class="btn btn-add-to-cart-detail" id="add-to-cart-button">Add to Cart</button>
          <a href="index.html" class="btn btn-back-to-shop ms-md-2 mt-2 mt-md-0">Back to Shop</a>
        </div>
      </div>
    </div>
  </section>

  <footer class="footer text-center">
    <div class="container">
      <p>&copy; <span id="currentYear"></span> Mystery Market. All rights reserved.</p>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    document.getElementById('currentYear').textContent = new Date().getFullYear();

    const products = {
        "enigma-box": {
            name: "The Enigma Box",
            price: 49.99,
            image: "https://via.placeholder.com/600x450/cccccc/888888?text=Enigma+Box",
            description: "Unlock the secrets within 'The Enigma Box'! Each box contains a unique assortment of vintage curios, cryptic puzzles, and hidden compartments. Perfect for the collector who loves a challenge."
        },
        "ancient-relic": {
            name: "Ancient Relic Replica",
            price: 75.00,
            image: "https://via.placeholder.com/600x450/cccccc/888888?text=Ancient+Relic",
            description: "A meticulously crafted replica of an artifact from a long-lost civilization. While its true purpose remains unknown, its intricate design hints at forgotten rituals and ancient power. A stunning display piece."
        },
        "crypt-tome": {
            name: "Whispers of the Crypt Tome",
            price: 35.50,
            image: "https://via.placeholder.com/600x450/cccccc/888888?text=Crypt+Tome",
            description: "Bound in aged leather, this tome holds dark and compelling tales from realms unknown. Its pages whisper of forgotten spells, mythical beasts, and daring adventurers. A must-have for fantasy connoisseurs."
        },
        "mystic-amulet": {
            name: "Mystic Amulet",
            price: 55.00,
            image: "https://via.placeholder.com/600x450/cccccc/888888?text=Mystic+Amulet",
            description: "Hand-crafted with rare metals and infused with an aura of mystery, this amulet is said to bring clarity and protection to its wearer. Each piece is unique, reflecting the arcane energies it embodies."
        },
        "lost-map": {
            name: "Lost Continent Map",
            price: 25.99,
            image: "https://via.placeholder.com/600x450/cccccc/888888?text=Lost+Map",
            description: "An authentic-looking, weathered map purporting to show the location of a legendary lost continent. Follow the faded lines and cryptic symbols â€“ who knows what wonders (or dangers) you might imagine?"
        },
        "specimen-jar": {
            name: "Curious Specimen Jar",
            price: 62.00,
            image: "https://via.placeholder.com/600x450/cccccc/888888?text=Specimen+Jar",
            description: "Encased in a sealed glass jar, this specimen is shrouded in mystery. Is it a rare botanical oddity, a creature from another dimension, or something else entirely? A true conversation starter for your curiosity cabinet."
        }
    };

    document.addEventListener('DOMContentLoaded', () => {
        updateCartCount();

        const urlParams = new URLSearchParams(window.location.search);
        const productId = urlParams.get('id');
        const product = products[productId];

        if (product) {
            document.getElementById('product-detail-image').src = product.image;
            document.getElementById('product-detail-name').textContent = product.name;
            document.getElementById('product-detail-price').textContent = `$${product.price.toFixed(2)}`;
            document.getElementById('product-detail-description').textContent = product.description;

            document.getElementById('add-to-cart-button').addEventListener('click', () => {
                let cart = JSON.parse(localStorage.getItem('cart')) || [];
                const existingItem = cart.find(item => item.id === productId);

                if (existingItem) {
                    existingItem.quantity++;
                } else {
                    cart.push({ id: productId, name: product.name, price: product.price, quantity: 1 });
                }

                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartCount();
                alert(`${product.name} added to cart!`);
            });
        } else {
            // Handle product not found, e.g., redirect to homepage or show a message
            document.querySelector('.page-content').innerHTML = `
                <div class="text-center py-5">
                    <h2 class="text-danger mb-4">Product Not Found</h2>
                    <p class="lead">The product you are looking for does not exist.</p>
                    <a href="index.html" class="btn btn-custom mt-3">Back to Shop</a>
                </div>
            `;
        }
    });

    function updateCartCount() {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
        document.getElementById('cart-count').textContent = totalItems;
    }
  </script>
</body>
</html>